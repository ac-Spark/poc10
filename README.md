# 3D Model Generation API

A powerful web-based 3D model generation service built with FastAPI and modern web technologies. Upload images and get high-quality 3D models with optional texture generation.

## Features

- **Modern Web Interface**: Clean HTML/JavaScript interface with real-time progress tracking
- **Multiple Output Formats**: Generate models in GLB or OBJ format
- **3D Preview**: Built-in 3D viewer supporting both GLB (model-viewer) and OBJ (Three.js) formats
- **Texture Generation**: Optional high-quality texture generation with PBR materials
- **Customizable Parameters**: Control inference steps, seed values, resolution, and more
- **Background Removal**: Automatic background removal from input images
- **Real-time Progress**: Live progress updates during generation
- **History Management**: View and manage previously generated models
- **RESTful API**: Full FastAPI-based API with automatic documentation

## Getting Started (Docker)

This is the recommended way to run the application.

### Prerequisites

- Docker
- Docker Compose

### Running the Application

1.  **Clone the repository:**

    ```bash
    git clone <repository-url>
    cd <repository-directory>
    ```

2.  **Create the environment file:**

    Copy the example environment file to a new `.env` file.

    ```bash
    cp .env.example .env
    ```

    You can modify the `.env` file to change the ports and other settings.

3.  **Build and run the Docker container:**

    ```bash
    docker-compose up -d --build
    ```

4.  **Access the web interface:**

    Open your web browser and navigate to `http://localhost:8861` (or the `FRONTEND_PORT` you defined in your `.env` file).

    The application will be available on port 8861. The first time you run the application, it will download the necessary models, which may take some time.

## API Documentation

The API documentation is automatically generated by FastAPI and is available at `/docs` on the API server (e.g., `http://localhost:8860/docs`).

You can also access the ReDoc documentation at `/redoc`.

## Project Structure

- `api_server.py`: Main FastAPI application with generation endpoints
- `model_worker.py`: 3D model generation worker with Hunyuan3D pipeline
- `api_models.py`: Pydantic models for API request/response validation
- `frontend/index.html`: Modern web interface with 3D preview capabilities
- `frontend/streamlit_app.py`: Alternative Streamlit interface
- `assets/`: Static assets and model viewer templates
- `gradio_cache/`: Generated models storage (auto-managed, 30 model limit)
- `docker-compose.yml`: Docker Compose configuration
- `docker/Dockerfile`: Application container definition

## API Endpoints

- `POST /generate`: Start 3D model generation from image
- `POST /generate_multipart`: Generate with file upload
- `GET /status/{uid}`: Check generation progress and retrieve results
- `GET /health`: Service health check
- `GET /docs`: Interactive API documentation (Swagger UI)
- `GET /redoc`: Alternative API documentation

## Web Interface Features

- **Format Selection**: Choose between GLB and OBJ output formats
- **Parameter Control**: Adjust inference steps (1-20) and seed values
- **Random Seed**: Generate random seeds for varied results
- **Progress Tracking**: Real-time generation progress with detailed stages
- **3D Preview**: Instant preview of generated models with proper lighting
- **History Dropdown**: Access recently generated models
- **Original Filenames**: Preserved original image filenames in history

## License

This project uses the Tencent Hunyuan 3D 2.1 models and is governed by the **Tencent Hunyuan 3D 2.1 Community License Agreement**. Please review the following files for complete licensing information:

- `LICENSE`: The main Tencent Hunyuan 3D 2.1 Community License Agreement
- `Notice.txt`: Additional licensing information and third-party dependencies

### Key License Points

- **Commercial Use**: For applications with >1M monthly active users, you must request additional licensing from Tencent
- **Territory Restrictions**: License does not apply in European Union, United Kingdom, and South Korea  
- **Attribution**: Products/services should be marked as "Powered by Tencent Hunyuan"
- **Acceptable Use**: Must comply with the Acceptable Use Policy included in the license

### Third-Party Components

This project also includes components under other licenses:
- Stable Diffusion components under MIT and CreativeML Open RAIL++-M License
- Other dependencies as listed in `Notice.txt`

**Important**: Users must comply with all license terms before using this software. Please read the complete license files for full details.
